---
import Layout from "../../layouts/Layout.astro";
import MainContent from "../../components/MainContent.astro";
import Constants from "../../constants";

export async function getStaticPaths() {
	let returnedAry: any = [];

	for (const state in Constants.locations) {
		const location = Constants.locations,
			cities = location[state as keyof typeof location];
		for (const city in cities) {
			returnedAry.push({
				params: { state, city },
				props: {
					cities: Object.entries(cities),
					location: cities[city as keyof typeof cities],
				},
			});
		}
	}
	return returnedAry;
}

const { state } = Astro.params;
const { cities, location } = Astro.props;
---

<Layout
	title={"adhan.app : " + state + " - " + location}
	state={state}
	cities={cities}
>
	<MainContent location={location} />
</Layout>
