---
import { getClosestPrayerTime, getWaktuSolat, timeString12hr } from "../util";

const { zone } = Astro.params;
const { hijri, date, day, ...filteredObject } = getWaktuSolat(zone); // exclude hijri, date, day
const closestTime = getClosestPrayerTime(filteredObject);
---

<div class="overflow-x-auto">
 <table class="table">
  <thead>
   <tr>
    <th>Waktu</th>
    <th>Masa</th>
   </tr>
  </thead>
  <tbody>
   {
    Object.entries(filteredObject).map(([key, value]) => (
     <tr>
      <td class={key == closestTime ? "currentPrayerTime" : ""}>{key}</td>
      <td
       class={value == filteredObject[closestTime] ? "currentPrayerTime" : ""}
      >
       <time>{timeString12hr(value)}</time>
      </td>
     </tr>
    ))
   }
  </tbody>
 </table>
</div>

<style>
 .currentPrayerTime {
  background-color: #ffb86c;
  color: #333;
 }
</style>
