---
import Constants from "../constants";

const { pathname } = Astro.url;

const negeriLabel =
	pathname !== "/"
		? decodeURI(pathname).split("/")[1].replace("/", "")
		: Constants.defaultSettings.waktuSolatState;
---

<button class="btn btn-ghost ml-2" onclick="my_modal_1.showModal()">
	{negeriLabel}<svg
		xmlns="http://www.w3.org/2000/svg"
		fill="none"
		viewBox="0 0 24 24"
		stroke-width="1.5"
		stroke="currentColor"
		class="w-6 h-6"
	>
		<path
			stroke-linecap="round"
			stroke-linejoin="round"
			d="M8.25 15 12 18.75 15.75 15m-7.5-6L12 5.25 15.75 9"></path>
	</svg>
</button>
<dialog id="my_modal_1" class="modal">
	<div class="modal-box">
		<div
			class="justify-between items-center modal-action m-0 sticky top-0 pl-4 bg-base-100 z-10"
		>
			<h2>Please select state</h2>
			<form method="dialog">
				<button class="btn btn-circle"
					><svg
						xmlns="http://www.w3.org/2000/svg"
						class="h-6 w-6"
						fill="none"
						viewBox="0 0 24 24"
						stroke="currentColor"
						><path
							stroke-linecap="round"
							stroke-linejoin="round"
							stroke-width="2"
							d="M6 18L18 6M6 6l12 12"></path></svg
					></button
				>
			</form>
		</div>
		<ul tabindex="0" class="menu">
			{
				Object.keys(Constants.locations).map((el: any) => (
					<li>
						<a href={"/" + el}>{el}</a>
					</li>
				))
			}
		</ul>
	</div>
</dialog>
